This device and the compatible dock can work without any driver, but if we want to configure it and play with the RGB features, we need to analyze the protocol.
I sacrificed my computer for science and installed the terrible software that Synapse 3 is, and the experience was less than pleasing.

One interesting thing is that as soon as the installer started, some requests were emitted on the two devices, likely to get information, using feature reports.

SET => 000800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400            
GET => 020800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400                    

SET => 000800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400            
GET => 020800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400                    

After that, when starting the actual installation, the bloated software sent a huge lot of requests, while taking several minutes to do what should have been nothingâ€¦
And messed up with ALL USB devices on the system. ALL of them. Competitor's mouse, Stream Deck, etc. TWO TIMES. My other mouse stopped working for tens of seconds while this was happening.
It seems it was doing some nasty stuff to the windows USB stack. At least something like restarting it, but maybe it installed some kind of filter driver on the system.
Indeed I see two drivers files, "RzDev_007c.sys" and "RzDev_007e.sys" associated with the mouse (USB dongle) and Dock. I'm unsure they were here prior to this.
Worthy of note, is that this crappy software asked me to restart the system after the installation, as was also notified by the windows driver install popups.
It did still seem to somehow work without doing that.
Let's hope these drivers are not a vital part of anything.

Upon starting razer synapse, it started emitting a lot of requests to the device. This was presumably to manually orchestrate the color cycling effect, which is also an hardware effect -_-
From testing around with Wireshark still opened, it would seem as if all effects are implemented in software using regular frequency manual color updates. Even fading out to black, etc.

# Analyzing the protocol

As often, Wireshark is operating a bit weird here. It seems unable to interpret the data part of GET feature responses while present in the packet.

When starting Synapse 3:

SET => 001f00000002008400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
GET => 021f00000002008400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600

SET => 001f00000002000403000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
GET => 021f00000002000403000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

First of all the n-1 byte of a packet (89th byte out of 90) seems to be a checksum of sorts. (We see that value constantly changing, and it is well isolated)
Judging by the requests/responses above, this is definitely a XOR checksum of all the bytes except for the fist two and last two.

BTW we can see the installer using various report IDs to communicate with the devices, but they are probably not the ones we are interested in for now. (We cans till dig in the captures later)
The report shown above (report ID 0 of 90 bytes) is the one we are interested in and is likely the standard razer protocol for these devices.

Hopefully, the razer protocol is relatively universal across devices. (Which I seem was the rational for devices supported in Synapse 3 vs those only supported by Synapse 2)
If that's the case, what we find here can be reused more widely ðŸ¤ž

This is a request that seemingly sets the RGB color on the dock:

SET => 001f000000080f030000000000ff5f04000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000

Since these are (always?) sent using feature reports, they don't expect any response other than an ack from the device.

We can see what seems to be the color above: ff5f04. This was chosen semi randomly from a long sequence of similar requests.
The color values that are sent to the device seem somewhat strange, as they are not the aggressive FF0000 => FFC000 => FF8000 etc. sequences that we would usually see.

It seems that all requests start with `001f`.
For the dock, it seems that all responses start with `021f`, but for the mouse USB dongle, it seems that responses can be either `021f` or `011f` followed by `021f` (two responses).

I'm assuming the first byte is an indicator of the origin of the request.
So it would be something like:
`00` is the host (Computer)
`01` is a USB receiver (But values are not always communicated ? It behaves like it could be the device itself but doesn't return useful info such as battery status)
`02` is the actual device, connected directly or through a receiver. If connected through a receiver but the device is offline, the responses will be mocked by the receiver ?

If there is a `01` response, there is always a `02` response following. But a `01` never follows a `02`.

Or maybe, because later on, we get multiple `01` responses in sequence, this is an indicator of request completion.
In that case, the meaning of the first byte would be:
`00` is a request (always from host to device)
`01` is a non-final response (always from device to host), and more responses must be fetched with a further Get Feature call
`02` is a final response (always from device to host), meaning that all the data has been received.

The second byte actually can take the value `08` or `1f` but it will be `1f` for most requests. It seems the `08` is mainly used during software initialization.
However there are requests using `020086` with both `08` and `1f` as the second byte, so I'm unsure of its meaning.

Let's ignore the checksum byte and trim the requests to compare various requests sent to the device


001f 000000 02 00 84  # ?
001f 000000 02 00 04 03 # ?
001f 000000 02 00 86  # ?
001f 000000 08 0f 03  # ?
001f 000000 06 0f 02 00 00 08 00 01 # ?
001f 000000 08 0f 03 0000000000 ff5f04 # Set color
001f 000000 08 0f 03 0000000000 ff5e04 # Set color
001f 000000 08 0f 03 0000000000 ff6004 # Set color
001f 000000 08 0f 03 0000000000 00ff00 # Set color (To green, done in the UI)
001f 000000 03 0f 04 01 00 54 # Set brightness
001f 000000 03 0f 04 01 00 ed # Set brightness

The excerpts below are the parts where I tried to adjust the effect brightness:

001f000000030f04010049
001f000000030f04010082
001f000000030f040100ad
001f000000030f040100ba
001f000000030f04010038
001f000000080f03000000000000ff00 // Green (Static Color defined in the UI)
001f000000030f0401003d
001f000000030f04010047
001f000000030f04010051
001f000000030f04010051
001f000000030f04010054
001f000000030f040100ff

001f000000030f040100ed
001f000000030f040100c9
001f000000080f03000000000000ff00 // Green (Static Color defined in the UI)
001f000000030f040100af
001f000000030f04010091
001f000000030f04010084
001f000000030f04010059
001f000000030f0401003d
001f000000030f04010035
001f000000030f0401003d
001f000000030f04010044
001f000000080f03000000000000ff00 // Green (Static Color defined in the UI)
001f000000030f0401004c
001f000000030f0401004f
001f000000030f0401004f
001f000000030f04010054 // Brightness to 33 ?

Default brightness was "33" in the UI, so we would be looking for 0x21 or 0x55 if the values are based on 255 (which they seemed to be)â€¦
Turns out the last command ends with the value 0x54 (after a manual reset to the value "33", which is a too close match to be a coincidence)

It seems that Razer software is sending/receiving all reports to/from endpoint 0 with report ID 0â€¦ And I can't make sense of that. (No HID descriptor seem to match and I believe I tried all device names just in case)
Might be a problem with USBpcap or Razer doesn't exactly respect the USB stack, which would explains why they have a proprietary (filter?) driver for each of their devices.
So, bad news probably. Unless I'm able to find the IO control codes to communicate with their drivers, it seems complicated for now.

To extract a large number of requests from a capture: (Sadly doesn't work for the GET FEATURE reports of these devices ðŸ™)
`tshark' -r "INPUT.pcapng" -T fields -e usb.irp_info.direction -e usb.data_fragment "usb.data_len >= 90 and usb.device_address == 48" > OUTPUT.txt`

## Requests sent to devices when the service is starting

### Dock

SET => 00 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

Still wondering about the above command, as it seems to return no information. (Handshake of some sorts ?)

SET => 00 08 000000 160082 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009400
GET => 02 08 000000 160082 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000de00
													   SN

The above command does return the device Serial Number in ASCII form (as written on the sticker)

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 02 00 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000

The above command seems to return some information. Maybe the firmware version ? (Need to check in Synapse UI)

### Mouse (Dongle)

SET => 00 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

This really could be the handshake command. It is sent by the Razer Synapse Installer, and always sent when a device is detected by Synapse Service.
It will return an error if the device is not connected to the dongle. (But then how does all that work when there are two devices ???)
It seems the service retries that one **many** times until it works, and it reads the (`04`) response up to 5 times per try.
The five read retries are probably not necessary, as it seems the devices will always repond to the last command.
That is also probably why no-op replies usually includes the whole request. (So that services can determine if they are reading the proper reply)

SET => 00 08 000000 160082 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009400
GET => 02 08 000000 160082 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc00

Obviously the serial number. That one will also fail if the device is not connected. (And same, how does this work when there are two paired devices)

SET => 00 08 000000 3100bf 02 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008c00
GET => 02 08 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

Device paiting information, as it seems. Even though it is associated with a mouse (it has the PID of the mouse), the dongle here supports two devices and only one is paired.

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

Why does this very same command sometimes return 2 values and sometimes only one ? Definitely looks something firmware-related, though.

SET => 00 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 01058a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008e00
GET => 02 1f 000000 01058a 05 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008b00

SET => 00 1f 000000 010580 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 010580 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500

SET => 00 1f 000000 410581 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c500
GET => 02 1f 000000 020581 05 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

This one command is one of the only for which the response has not the same 3 bytes sequence. The first byte is `41` in the request and `02` in the response.
Other commands usually have the same sequence for requests and responses.

SET => 00 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 0e068e 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
GET => 02 1f 000000 0e068e 00 64 00 05e0 00 00 05e0 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e200

The `64` in the command above might be the battery level ? (I don't remember the exact charge level at this moment, but this could be 100% ?)
We also see 05e0 repeated two times, but the particular meaning of that is unclear.

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 01058a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008e00
GET => 02 1f 000000 01058a 05 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008b00

SET => 00 1f 000000 010580 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 010580 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500

SET => 00 1f 000000 410581 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c500
GET => 02 1f 000000 020581 0501 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 01 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

SET => 00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
GET => 02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

SET => 00 1f 000000 040087 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
GET => 02 1f 000000 040087 020201 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

## Specific Requests (On the Mouse)

### Shutting down Synapse when the color was Static (00FF00)

00 1f 000000 320f80 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd00
01 1f 000000 320f80 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd00
02 1f 000000 050f80 0419030202 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009400
00 1f 000000 0c0f82 0104 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
01 1f 000000 0c0f82 0104 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 0c0f82 00040301280100ff0000ff00 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ae00
00 1f 000000 060f02 0100030128 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000
01 1f 000000 060f02 0100030128 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000
02 1f 000000 060f02 0100030128 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000
00 1f 000000 020084 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
01 1f 000000 020084 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
02 1f 000000 020084 03 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
00 1f 000000 020004 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
01 1f 000000 020004 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
02 1f 000000 020004 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600

### Power Saving (Color Set to Static 00FF00)

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 020703 003c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003a00
01 1f 000000 020703 003c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003a00

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 020703 012c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00
02 1f 000000 020703 012c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00

00 1f 000000 020703 0384 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020703 0384 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 020703 012c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00
01 1f 000000 020703 012c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00
02 1f 000000 020703 012c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00

In the UI, this setting goes from 1 to 15 minutes.
The command seems less trivial than low power mode, but by looking at the values, they seem to be multiples of 60.
So the value is actually two bytes in big-endian that represent a number of seconds of inactivity before power saving mode is enabled.

### Low Power Mode (Color Set to Static 00FF00)

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00
00 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00
02 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 010701 0f 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800
01 1f 000000 010701 0f 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800
02 1f 000000 010701 0f 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800

00 1f 000000 010701 ea 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ed00
01 1f 000000 010701 ea 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ed00
02 1f 000000 010701 ea 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ed00

00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 010701 70 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007700
01 1f 000000 010701 70 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007700
02 1f 000000 010701 70 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007700

00 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00
02 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00
00 1f 000000 080f03 0000000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

The command is quite easy to understand here, as it seems to take a single byte (unlike Power Saving ?).
Similar to brightness, the value is expressed from 0% to 100% in the UI, but from 0 to 255 in the commands.
e.g. The last iteration has byte `0C`, which was obtained by setting low power mode back to 5 minutes. 100*12/255 = 4.70, which is close to 5.

### Brightness

00 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600
01 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600
02 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600

00 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600
01 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600
02 1f 000000 030f04 01 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f600

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
01 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

We already saw that one previously. The value is expressed as a single byte from 0 to 255 representing a percentage from 0% to 100%.
The byte always set to 1 could be the enable/disable flag.

### Brightness enable/disable

Nothing interesting here, it seems that enabling/disabling brightness is simply a matter of setting it to zero or not zero with the same command as above.

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
01 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
01 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
01 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
02 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00

00 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
02 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00

00 1f 000000 080f03 00 00000000 00ff00 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 00 00 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
02 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00

00 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
01 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00
02 1f 000000 030f04 01 00 54 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d00

### Battery level check ?

I've done this when the battery level was 100%, so we expect a value.
Most reports produce a response identical to the request, so we are looking for a request which has a different response, and that includes a number close to 255 (or exactly 255).
Reason being that Razer actually seem to express percentages from 0 to 255 in all cases.
NB: A quick way to find actually meaningful command responses is to check for the checksum byte. Since the two initial bytes are not part of the checksum computation, responses not providing
meaningful results (or at least interpretable results from our POV), will have exactly the same checksum value as the request.

To do this, I disabled the brightness (which actually stops synapse software from sending periodic color updates) and waited for an expected check of brightness for the software.
This generated a few results, among which one was quite interesting.

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
01 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00

We can see in the above output that the byte `FF` was returned, which, I hope, should represent the battery level at 100%.

### Idle checks done by Synapse (the mouse was sometimes moved to bring it back alive), including the above

00 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00
Battery status ?

00 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
02 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
01 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
01 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00
Battery status ?

001f00000002078000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
021f00000002078000ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00

001f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
011f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
021f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

001f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
011f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
021f0000000100bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

(Mouse went offline and was moved here)

001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
011f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
021f00000004008702020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

000800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
020800000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

001f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
011f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
021f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

001f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
021f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
011f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
021f00000004008702020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

001f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
011f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
021f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
021f00000004008702020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

001f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
011f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
021f00000002008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
011f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300
021f00000004008702020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

And so onâ€¦ It follows the same pattern than on startup, so I'm not going to repeat that here
What would be interesting is to capture the event that is sent when the mouse wakes up.
It **cannot** be through the custom Razer protocol because this one only works through Feature reports, which are not interactive. (Unlike input/output reports that are for example used by HID++)

But after a while, we do get different reports:

00 1f 000000 060f02 00 00 08 00 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200
01 1f 000000 060f02 00 00 08 00 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200
02 1f 000000 060f02 00 00 08 00 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200

00 1f 000000 080f03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 060f02 00 00 08 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300
01 1f 000000 060f02 00 00 08 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300
02 1f 000000 060f02 00 00 08 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300

00 1f 000000 080f03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 020703 01 2c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00
01 1f 000000 020703 01 2c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00
02 1f 000000 020703 01 2c 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b00

00 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00
01 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00
02 1f 000000 010701 0c 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00

00 1f 000000 080f03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 030b03 00 04 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00
02 1f 000000 030b03 00 04 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00

00 1f 000000 030b03 00 04 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00
01 1f 000000 030b03 00 04 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00
02 1f 000000 030b03 00 04 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00

00 1f 000000 040b0b 00 04 01 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01 1f 000000 040b0b 00 04 01 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01 1f 000000 040b0b 00 04 01 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01 1f 000000 040b0b 00 04 01 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02 1f 000000 040b0b 00 04 01 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

This one is **very** interesting, because we see multiple (identical) `01` responses.
I'm assuming that the algorithm must be something like: "fetch responses until you get a `02` response", but I have no good interpretation on the specific meaning of such responses.
Should the `01` responses always be ignored ?

00 1f 000000 080f03 00 00 00 00 00 00 03 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700

00 1f 000000 010005 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 010005 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
01 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
02 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600

00 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
01 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600
02 1f 000000 070405 00 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600

00 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

00 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
01 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

00 1f 000000 01058a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008e00
02 1f 000000 01058a 05 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008b00

00 1f 000000 01058a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008e00
02 1f 000000 01058a 05 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008b00

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
01 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 010580 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 010580 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500

00 1f 000000 010580 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 010580 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
01 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00

00 1f 000000 410581 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c500
02 1f 000000 020581 05 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

00 1f 000000 410581 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c500
02 1f 000000 020581 05 01 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200

00 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
02 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 0e068e 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
02 1f 000000 0e068e 00640005e0000005e 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e200

00 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
02 1f 000000 020680 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

00 1f 000000 010502 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700
02 1f 000000 010502 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700

00 1f 000000 0e068e 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008600
02 1f 000000 0e068e 00640005e0000005e 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e200

00 1f 000000 260406 01 05 05 00 0190 0190 00 00 01 0320 0320 0000 02 0640 0640 0000 03 0c80 0c80 0000 04 1900 1900 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000002100
02 1f 000000 260406 01 05 05 00 0190 0190 00 00 01 0320 0320 0000 02 0640 0640 0000 03 0c80 0c80 0000 04 1900 1900 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000002100

This one command seems quite different from the others, so it should have a very specific meaning. Maybe the software transferring "profile" data to the mouse ?

We can observe some repeated sequences here that form "non-random" numbers:
0x0190 is 400
0x0320 is 800
0x0640 is 1600
0x0c80 is 3200
0x1900 is 6400
These are very clearly DPI settings. (I left mine unchanged so these are the actual values)

I'm unsure why the values are repeated in the message, but it clearly includes a pattern of  `<Index:U8> <DPI_Value:U16> <DPI_Value:U16>` where values are big-endian, and index is zero-based.

The two `05` at the beginning would be the number of DPI settings (I believe 5 is the maximum number of settings ?)
The mouse has only a single profile for now, but could it be possible that the `01` at the beginning is the profile ID ? (First profile)

00 1f 000000 070405 01 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700
02 1f 000000 070405 01 1900 1900 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700

Again here, 0x1900 is 6400 and repeated two times like in the command before, so this command could also be DPI related.
The response is identical to the request, though. Is it to set the current DPI ?

00 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
01 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 030f04 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 010005 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 010005 01 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 01 00 01 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 01 00 01 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 02 00 01 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 02 00 01 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 03 00 01 01 03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 03 00 01 01 03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 0b 00 06 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800
02 1f 000000 0a020c 01 0b 00 06 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800

00 1f 000000 0a020c 01 0c 00 06 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00
02 1f 000000 0a020c 01 0c 00 06 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00

00 1f 000000 0a020c 01 0e 00 07 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 0a020c 01 0e 00 07 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 0a020c 01 09 00 01 01 09 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 09 00 01 01 09 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 0a 00 01 01 0a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 0a 00 01 01 0a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 04 00 01 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 04 00 01 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 05 00 01 01 05 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500
02 1f 000000 0a020c 01 05 00 01 01 05 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500

00 1f 000000 0a020c 01 01 01 01 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 01 01 01 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 02 01 01 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 02 01 01 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 03 01 01 01 03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 03 01 01 01 03 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 0b 01 06 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900
02 1f 000000 0a020c 01 0b 01 06 01 01 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900

00 1f 000000 0a020c 01 0c 01 06 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d00
02 1f 000000 0a020c 01 0c 01 06 01 02 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d00

00 1f 000000 0a020c 01 0e 01 07 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800
02 1f 000000 0a020c 01 0e 01 07 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800

00 1f 000000 0a020c 01 09 01 01 01 09 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 09 01 01 01 09 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 0a 01 01 01 0a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 0a 01 01 01 0a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 04 01 01 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 04 01 01 01 04 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

00 1f 000000 0a020c 01 05 01 01 01 05 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400
02 1f 000000 0a020c 01 05 01 01 01 05 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400

The above commands clearly look like some specific settings but I can't make sense of them for now.
It could be some profile data such as button mapping?

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
01 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
01 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00

00 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
02 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
01 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100
02 1f 000000 020784 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008100

00 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
01 1f 000000 020780 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008500
02 1f 000000 020780 00 ff 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007a00

00 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00
02 1f 000000 0100bb 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

# Standard Lighting API ??

By manually analyzing the numerous HID reports returned by the mouse, it would seem that it implements the standard HID lighting controls on device interfaces 3 and 4â€¦
This could be a viable alternative to the Razer custom protocol.
However, there are two things regarding this:

 * If it works (would need to be verified), we need to implement a generic way to handle standard Lighting & Illumination collections, and probably deal with the Windows flavor of parsed HID descriptors.
 * We likely still want to have the Razer protocol working because it would allow editing mouse profiles & getting battery info.
 * These two interfaces would be the ones that constantly error out when scanning the devices using DeviceTools.Cli. This predates the installation of Synapse 3. 
 
Maybe Windows is reserving these collections for itself with their upcoming RGB lighting feature ?
=> Seems to be the case. As explained here, the new API allows automatic control of all HID devices compliant with the new HID Lighting & Illumination page: https://learn.microsoft.com/en-us/windows/uwp/devices-sensors/lighting-dynamic-lamparray
While not said explicitly in the docs, it seems that going through the API will be mandatory to access these devices, so no raw access.
This is kind of a good thing, as we could be able to rely on this (and will need to do so for some future devices), and it avoids the necessity for parsing HID reports.
However, the documentation implies that lighting control would only be available in **applications**, which would be a problem.
It also says that **applications** need to register as a lighting controller in order to control lights in the background, which we'll need to do.
If possible I'd like to avoid relying on WinRT APIs and find lower level APIs such as DevQuery* C APIs to control these features.
I'll try digging in the Windows SDK headers and see if I find anything of use. In the meantime, let's wait for the official feature to roll out.
(To be fair I'm half happy and half sad about it. It should be a good thing in general, but will make a lot of the work here redundant ðŸ™)

Interface 3:

HID Report
	Usage Page (Lighting and Illumination)
	Usage (LampArray)
	Collection (Application)
		Header
		Collection type: Application (0x01)
		Report ID (0x01)
		Usage (LampArrayAttributesReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampCount)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Const,Var,Abs)
			Usage (BoundingBoxWidthInMicrometers)
			Usage (BoundingBoxHeightInMicrometers)
			Usage (BoundingBoxDepthInMicrometers)
			Usage (LampArrayKind)
			Usage (MinUpdateIntervalInMicroseconds)
			Logical Minimum (0)
			Logical Maximum (2147483647)
			Report Size (32)
			Report Count (5)
			Feature (Const,Var,Abs)
			End Collection
		Report ID (0x02)
		Usage (LampAttributesRequestReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x03)
		Usage (LampAttributesResponseReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Data,Var,Abs)
			Usage (PositionXInMicrometers)
			Usage (PositionYInMicrometers)
			Usage (PositionZInMicrometers)
			Usage (UpdateLatencyInMicroseconds)
			Usage (LampPurposes)
			Logical Minimum (0)
			Logical Maximum (2147483647)
			Report Size (32)
			Report Count (5)
			Feature (Data,Var,Abs)
			Usage (RedLevelCount)
			Usage (GreenLevelCount)
			Usage (BlueLevelCount)
			Usage (IsProgrammable)
			Usage (InputBinding)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (5)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x04)
		Usage (LampMultiUpdateReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampCount)
			Usage (LampUpdateFlags)
			Logical Minimum (0)
			Logical Maximum (8)
			Report Size (8)
			Report Count (2)
			Feature (Data,Var,Abs)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (8)
			Feature (Data,Var,Abs)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (24)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x05)
		Usage (LampRangeUpdateReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampUpdateFlags)
			Logical Minimum (0)
			Logical Maximum (8)
			Report Size (8)
			Report Count (1)
			Feature (Data,Var,Abs)
			Usage (LampIdStart)
			Usage (LampIdEnd)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (2)
			Feature (Data,Var,Abs)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (3)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x06)
		Usage (LampArrayControlReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (AutonomousMode)
			Logical Minimum (0)
			Logical Maximum (1)
			Report Size (8)
			Report Count (1)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x07)
		Usage Page (Vendor)
		Logical Minimum (0)
		Logical Maximum (255)
		Usage (Vendor)
		Report Size (8)
		Report Count (63)
		Feature (Data,Var,Abs)
		End Collection
	Usage Page (Consumer)
	Usage (Consumer Control)
	Collection (Application)
		Header
		Collection type: Application (0x01)
		Report ID (0x08)
		Usage Minimum (0xd0)
		Usage Maximum (0xd7)
		Logical Minimum (0)
		Logical Maximum (1)
		Report Size (1)
		Report Count (8)
		Input (Data,Var,Abs)
		End Collection

Interface 4:

HID Report
	Usage Page (Lighting and Illumination)
	Usage (LampArray)
	Collection (Application)
		Header
		Collection type: Application (0x01)
		Report ID (0x01)
		Usage (LampArrayAttributesReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampCount)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Const,Var,Abs)
			Usage (BoundingBoxWidthInMicrometers)
			Usage (BoundingBoxHeightInMicrometers)
			Usage (BoundingBoxDepthInMicrometers)
			Usage (LampArrayKind)
			Usage (MinUpdateIntervalInMicroseconds)
			Logical Minimum (0)
			Logical Maximum (2147483647)
			Report Size (32)
			Report Count (5)
			Feature (Const,Var,Abs)
			End Collection
		Report ID (0x02)
		Usage (LampAttributesRequestReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x03)
		Usage (LampAttributesResponseReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (1)
			Feature (Data,Var,Abs)
			Usage (PositionXInMicrometers)
			Usage (PositionYInMicrometers)
			Usage (PositionZInMicrometers)
			Usage (UpdateLatencyInMicroseconds)
			Usage (LampPurposes)
			Logical Minimum (0)
			Logical Maximum (2147483647)
			Report Size (32)
			Report Count (5)
			Feature (Data,Var,Abs)
			Usage (RedLevelCount)
			Usage (GreenLevelCount)
			Usage (BlueLevelCount)
			Usage (IsProgrammable)
			Usage (InputBinding)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (5)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x04)
		Usage (LampMultiUpdateReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampCount)
			Usage (LampUpdateFlags)
			Logical Minimum (0)
			Logical Maximum (8)
			Report Size (8)
			Report Count (2)
			Feature (Data,Var,Abs)
			Usage (LampId)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (8)
			Feature (Data,Var,Abs)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (24)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x05)
		Usage (LampRangeUpdateReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (LampUpdateFlags)
			Logical Minimum (0)
			Logical Maximum (8)
			Report Size (8)
			Report Count (1)
			Feature (Data,Var,Abs)
			Usage (LampIdStart)
			Usage (LampIdEnd)
			Logical Minimum (0)
			Logical Maximum (65535)
			Report Size (16)
			Report Count (2)
			Feature (Data,Var,Abs)
			Usage (RedUpdateChannel)
			Usage (GreenUpdateChannel)
			Usage (BlueUpdateChannel)
			Logical Minimum (0)
			Logical Maximum (255)
			Report Size (8)
			Report Count (3)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x06)
		Usage (LampArrayControlReport)
		Collection (Logical)
			Header
			Collection type: Logical (0x02)
			Usage (AutonomousMode)
			Logical Minimum (0)
			Logical Maximum (1)
			Report Size (8)
			Report Count (1)
			Feature (Data,Var,Abs)
			End Collection
		Report ID (0x07)
		Usage Page (Vendor)
		Logical Minimum (0)
		Logical Maximum (255)
		Usage (Vendor)
		Report Size (8)
		Report Count (63)
		Feature (Data,Var,Abs)
		End Collection

# Calling the device through razer drivers

Provided we install the drivers on our computer without synapse, is should be possible to access the Razer protocol features without actually relying on Synapse software.
Regarding this, the question of how to get our hands on the drivers remain.
Installing Synapse 3 to get the drivers for the device installed on the disk is a solution that works, but not one that is flexible.
Synapse 3 will only (download ?) & install drivers for the devices that are required, which is a wise choice. (It is a feature I thought about for a much later version Exo, so I can't blame them :))
It will have to do for now, though. (I'm assuming it would be possible to manually download those from their servers, but I'm unsure this is acceptable)

From what I can see, the drivers do, as I suspected, provide a way to bypass the standard Windows HID stack and emit or receive HID reports that Windows would deem invalid.

Thankfully, they do this in a quite simple way, by exposing a custom Get/Set Feature Report as IO Control Codes.

For the Dock, I got the following IO Control codes:

SetFeature: 0x88883010
GetFeature: 0x88883014

The calls are as straightforward as they get. No shenanigans here.
I'm assuming these are 100% compatible with the standard Widows HidD_SetFeature / HidD_GetFeature, meaning that they would include the Report ID byte. If not, it will be easy to detect.

I still don't know if these IO control codes are universal, and on which device interface they should be used.
It is possible they work on all device interfaces, but I doubt their software would open one at random.

I'm assuming the SetFeature/GetFeature stuff is quite universal across drivers for this generation of hardware, as I have a hard time imagining Razer writing 100% custom drivers for each and every device.
It is however possible that their build system would generate drivers for each device with slightly different parameters and use different IoControl codes just for the sake of doing it.
(That's actually what I would do if I wanted to make my stuff hard to interoperate with, as they seemingly did here by hiding their features from Windows user mode)

As for the device to open, it would seem that the drivers create device notes under the following custom device class GUID: e3be005d-d130-4910-88ff-09ae02f680e9
Those devices would generally have a name like those:

 \\?\RZCONTROL#VID_1532&PID_007D&MI_00#a&1ddbaa2e&0#{e3be005d-d130-4910-88ff-09ae02f680e9}
 \\?\RZCONTROL#VID_1532&PID_007E&MI_00#a&33f42eb&0#{e3be005d-d130-4910-88ff-09ae02f680e9}

Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaannnndâ€¦ It works !

Just sending that one command to the dock device is enough to change its color:

00001f000000080f030000000000ea1134000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cb00

And just to be sure, the same command manually adjusted for generating to green (00FF00) works:

00001f000000080f03000000000000ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fb00

It does seem to immediately switch the dock to "static color" at the same time, so there is definitely something more to do here, but having this working is definitely great news.
Having to deal with the razer custom drivers is certainly less than ideal, but at least it is easy to work with in that case.

# Availability notifications of the mouse connected to a dongle

# Initial observations

From looking at the captured packets in Wireshark from a long capture sequence, it seems that the packets produced are URB IN on endpoint 2.
Endpoint 2 is Device Interface 01 (MI_01 in Windows).
If I interpret the data correctly, the first byte of these 16 bytes-long packets should be the report ID.
We get one packet with the report ID 2, and two packets with the report ID 5 before the SET Feature from Synapse.
From the raw HID descriptors (because I really can't make any sense of the gibberish returned by Windows preparsed data ðŸ˜¥), it seems that those two reports are indeed 15 byte long.
Report ID 02 would contain some form of structured information, while report ID 05 is clearly composed of 15 raw bytes. (Which doesn't mean that there is no meaning to these)

## HID Descriptor of Device Interface 1

Below is the whole HID descriptor for interface 01, as obtained in Wireshark:

````
Usage Page (Generic Desktop Controls)
Usage (Keyboard)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x01)
	Usage Page (Keyboard/Keypad)
	Usage Minimum (0xe0)
	Usage Maximum (0xe7)
	Logical Minimum (0)
	Logical Maximum (1)
	Report Size (1)
	Report Count (8)
	Input (Data,Var,Abs)
	Usage Minimum (0x00)
	Usage Maximum (0xff)
	Logical Minimum (0)
	Logical Maximum (255)
	Report Size (8)
	Report Count (14)
	Input (Data,Array,Abs)
	Usage Page (LED)
	Usage Minimum (0x01)
	Usage Maximum (0x03)
	Logical Minimum (0)
	Logical Maximum (1)
	Report Size (1)
	Report Count (3)
	Output (Data,Var,Abs)
	Report Count (5)
	Output (Const,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (Mouse)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x0a)
	Usage (Pointer)
	Collection (Physical)
	End Collection
Usage Page (Consumer)
Usage (Consumer Control)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x02)
	Usage Minimum (0x00)
	Usage Maximum (0x23c)
	Logical Minimum (0)
	Logical Maximum (572)
	Report Count (1)
	Report Size (16)
	Input (Data,Array,Abs)
	Report Size (8)
	Report Count (13)
	Input (Const,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (System Control)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x03)
	Usage Minimum (0x81)
	Usage Maximum (0x83)
	Logical Minimum (0)
	Logical Maximum (1)
	Report Size (1)
	Report Count (3)
	Input (Data,Var,Abs)
	Report Count (5)
	Input (Const,Array,Abs)
	Report Size (8)
	Report Count (14)
	Input (Const,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (Undefined)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x04)
	Usage (Reserved)
	Logical Minimum (0)
	Logical Maximum (255)
	Physical Minimum (0)
	Physical Maximum (255)
	Report Size (8)
	Report Count (15)
	Input (Data,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (Undefined)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x05)
	Usage (Reserved)
	Logical Minimum (0)
	Logical Maximum (255)
	Physical Minimum (0)
	Physical Maximum (255)
	Report Size (8)
	Report Count (15)
	Input (Data,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (Undefined)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x08)
	Usage (Reserved)
	Logical Minimum (0)
	Logical Maximum (255)
	Physical Minimum (0)
	Physical Maximum (255)
	Report Size (8)
	Report Count (15)
	Input (Data,Array,Abs)
	End Collection
Usage Page (Generic Desktop Controls)
Usage (Undefined)
Collection (Application)
	Header
	Collection type: Application (0x01)
	Report ID (0x09)
	Usage (Reserved)
	Logical Minimum (0)
	Logical Maximum (255)
	Physical Minimum (0)
	Physical Maximum (255)
	Report Size (8)
	Report Count (15)
	Input (Data,Array,Abs)
	End Collection
````

As we can see above, there are quite a few reports that are defined to have 15 bytes of raw data.
These are reports with IDs `04`, `05`, `08` and `09`. Role of reports other than `05` is currently unknown. (Need to check earlier captures during the installation of Synapse for possible signs of those)

By taking another capture, the role of report `02` might only be distantly related, as one report was received before the device disconnected, but those reports are always empty ?

Report `05` seems to clearly be an indicator of activity of the mouse. A report ID `05` is also present in the dock (Need to check the HID descriptor to see if it is the same) so it must have a generic prupose.

All these report are Input Reports, meaning that they only serve to receive notifications from the device, and not the other way around.

## Mouse sleeping down

The notifications received when the device is going to sleep are the following:

Endpoint 1 (Interface 0): `0000000000000000` (Likely the mouse report)

Endpoint 2 (Interface 1): `02000000000000000000000000000000`

Endpoint 2 (Interface 1): `05090201000000000000000000000000`

## Mouse waking up

Then, if the device wakes up, we observe the following:

### Sequence 1 (By moving the mouse)

Endpoint 2 (Interface 1): `05090301000000000000000000000000` 

SET Feature: `001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300`

Endpoint 1 (Interface 0): `0000000000000000`

Endpoint 2 (Interface 1): `05021900190000000000000000000000`

Endpoint 1 (Interface 0): `00000000ffff0000` (Definitely the mouse report)

GET Feature: `011f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300`

### Sequence 2 (By clicking without moving the mouse)

Endpoint 2 (Interface 1): `05090301000000000000000000000000`

SET Feature: `001f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300`

GET Feature: `011f00000004008700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008300`

Endpoint 1 (Interface 0): `0100000000000000`

Endpoint 2 (Interface 1): `05021900190000000000000000000000`

GET Feature: `021f00000004008702020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008200`

Endpoint 1 (Interface 0): `0000000000000000`

## Analysis

It seems the empty messages generated on Interface 00 / Report ID 00 and Interface 01 / Report ID 02, are sent to make sure that the state is cleared (e.g. do not leave a click state lingering)

We could obviously ignore the mouse reports, but it means we probably also can disregard the Report ID 02 on Interface 1.

This leaves only report ID 05 on Interface 1.

In case of going to sleep, a single message is emitted: `090201000000000000000000000000`

In case of waking up there are two messages:

`090301000000000000000000000000`
`021900190000000000000000000000`

We can see that Synapse 3 reacts immediately, to the first message, which is shortly followed by the second message.
It is yet unknown if the second message is a consequence of Synapse reacting to the first.

Comparing the sleep/wake initial messages, there seem to be a pattern:

SLEEP : 09 02 01 000000000000000000000000
WAKE  : 09 03 01 000000000000000000000000

It seems relatively safe to assume that `09` indicates a device availability notification.
The second byte could be the availability status kind, and the third byte could be the device index ? (Assuming there could be dongles supporting multiple devices like Logitech Unifying/Bolt)

The second notification is also sent when the device is connected wired. (But you'd need to be pretty quick to catch it with software, I guess ?)
As it contains the sequence 0x1900, repeated two times, it is probably DPI related like some commands in the protocol:

02 1900 1900 00000000000000000000

There is no information that could be a device index here, however.

## Operations when the device is not connected

If we start the service with the device disconnected from the dongle, the responses start with `04`:

00 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
04 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
04 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
04 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
04 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400
04 08 000000 020086 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008400

It seems that responses starting with `04` indicate an error. Anyway, in our case, it indicates that the device is not available.
When the response is `04`, the service seems to retry reading a response four additional times. (So a total of 5 GetFeature)

Ability to communicate with the dongle itself seems limited, but there is at least one request that produces a result.

00 08 000000 3100bf 02 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008c00
02 08 000000 3100bf 02 00 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f100

So, we should assume that this request directly queries the dongle.
We can look for difference in responses between when the mouse is connected and not connected.

OFFLINE : 02 08 000000 3100bf 02 00 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f100
ONLINE  : 02 08 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

Apparently, the only difference is in the byte that is set to 01.

Possibly, the first useful byte in the response set to `02` could indicate that this dongle can bind to two devices ?
If that's the case, the two sets of three bytes could be one for each device.
Howeverâ€¦ The `7d` above seems to match the dongle PID of `007D`, and it is probably not a coincidence. (Need to check that PID thing because we know that when wired, the mouse has PID 007C)

Actually, by checking the documentation, that dongle does support up to two devices? https://mysupport.razer.com/app/answers/detail/a_id/4048/~/how-to-add-a-device-to-a-multi-device-dongle

And I can open the pairing utility in the Synapse 3 UI as shown in the website.

When opening the pairing utility, we get the following requests:

00 1f 000000 0300c5 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c600
02 1f 000000 0300c5 01 007d 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 3100bf 10 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e00
02 1f 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

00 1f 000000 3100bf 10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e00
02 1f 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

00 1f 000000 0300c5 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c600
02 1f 000000 0300c5 01 007d 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00
02 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00

00 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00
02 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00

00 1f 000000 3100bf 10 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e00
02 1f 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

00 1f 000000 3100bf 10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e00
02 1f 000000 3100bf 02 01 007d 00 ffff 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000

00 1f 000000 0300c5 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c600
02 1f 000000 0300c5 01 007d 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 0300c5 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c600
02 1f 000000 0300c5 01 007d 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ba00

00 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00
02 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00

00 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00
02 1f 000000 0300bc 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf00

Maybe that 1f is related to the device ID ?
I can't really make sense of that byte, but I only observed values `08` and `1f`.
It seems like it could be similar to the device index of the HID++ protocol where you have to use `FF` for the dongle, `01` for the first device, and so onâ€¦
It would be wise to assume that `1f` speaks to the first device, and `08` speaks to the connected dongle, but it still wouldn't explain everything.
These values could be more like bit masks, but if so, more sample data is needed.
